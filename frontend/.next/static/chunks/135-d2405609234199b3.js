(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{4063:function(e){"use strict";e.exports=function equal(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!equal(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){var n,r,o,a=o[r];if(!equal(e[a],t[a]))return!1}return!0}return e!=e&&t!=t}},3454:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(7663)},1342:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{noSSR:function(){return noSSR},default:function(){return dynamic}});let r=n(8754),o=(n(7294),r._(n(4304)));function convertModule(e){return{default:(null==e?void 0:e.default)||e}}function noSSR(e,t){return delete t.webpack,delete t.modules,e(t)}function dynamic(e,t){let n=o.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r={...r,...e}),r={...r,...t};let a=r.loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?n({...r,loader:()=>null!=a?a().then(convertModule):Promise.resolve(convertModule(()=>null))}):(delete r.webpack,delete r.modules,noSSR(n,r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return a}});let r=n(8754),o=r._(n(7294)),a=o.default.createContext(null)},4304:function(e,t,n){"use strict";/**
@copyright (c) 2017-present James Kyle <me@thejameskyle.com>
 MIT License
 Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:
 The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE
*/Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let r=n(8754),o=r._(n(7294)),a=n(43),i=[],l=[],s=!1;function load(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}let LoadableSubscription=class LoadableSubscription{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}};function Loadable(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function init(){if(!r){let t=new LoadableSubscription(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!s){let e=n.webpack?n.webpack():n.modules;e&&l.push(t=>{for(let n of e)if(t.includes(n))return init()})}function LoadableComponent(e,t){!function(){init();let e=o.default.useContext(a.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let i=o.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return o.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),o.default.useMemo(()=>{var t;return i.loading||i.error?o.default.createElement(n.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:r.retry}):i.loaded?o.default.createElement((t=i.loaded)&&t.default?t.default:t,e):null},[e,i])}return LoadableComponent.preload=()=>init(),LoadableComponent.displayName="LoadableComponent",o.default.forwardRef(LoadableComponent)}(load,e)}function flushInitializers(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return flushInitializers(e,t)})}Loadable.preloadAll=()=>new Promise((e,t)=>{flushInitializers(i).then(e,t)}),Loadable.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let res=()=>(s=!0,t());flushInitializers(l,e).then(res,res)})),window.__NEXT_PRELOADREADY=Loadable.preloadReady;let u=Loadable},7663:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var a=[],i=!1,l=-1;function cleanUpNextTick(){i&&r&&(i=!1,r.length?a=r.concat(a):l=-1,a.length&&drainQueue())}function drainQueue(){if(!i){var e=runTimeout(cleanUpNextTick);i=!0;for(var t=a.length;t;){for(r=a,a=[];++l<t;)r&&r[l].run();l=-1,t=a.length}r=null,i=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||i||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function __nccwpck_require__(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},a=!0;try{t[e](o,o.exports,__nccwpck_require__),a=!1}finally{a&&delete n[e]}return o.exports}__nccwpck_require__.ab="//";var r=__nccwpck_require__(229);e.exports=r}()},5152:function(e,t,n){e.exports=n(1342)},9008:function(e,t,n){e.exports=n(9201)},1323:function(e,t,n){"use strict";n.d(t,{D5:function(){return Map},un:function(){return APIProvider}});var r=n(7294),o=n(3935),a=n(4063);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function _toPropertyKey(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}let i={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"};let GoogleMapsApiLoader=class GoogleMapsApiLoader{static async load(e,t){var n;let r=e.libraries?e.libraries.split(","):[],o=this.serializeParams(e);this.listeners.push(t),null!=(n=window.google)&&null!=(n=n.maps)&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=i.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=o,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==o&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let a=["maps",...r];await Promise.all(a.map(e=>google.maps.importLibrary(e)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let t=null,loadApi=()=>t||(t=new Promise((t,n)=>{var r;let o=document.createElement("script"),a=new URLSearchParams;for(let[t,n]of Object.entries(e)){let e=t.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase());a.set(e,String(n))}a.set("loading","async"),a.set("callback","__googleMapsCallback__"),o.async=!0,o.src="https://maps.googleapis.com/maps/api/js?"+a.toString(),o.nonce=(null==(r=document.querySelector("script[nonce]"))?void 0:r.nonce)||"",o.onerror=()=>{this.loadingStatus=i.FAILED,this.notifyLoadingStatusListeners(),n(Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=i.LOADED,this.notifyLoadingStatusListeners(),t()},window.gm_authFailure=()=>{this.loadingStatus=i.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=i.LOADING,this.notifyLoadingStatusListeners(),document.head.append(o)}));google.maps.importLibrary=e=>loadApi().then(()=>google.maps.importLibrary(e))}static notifyLoadingStatusListeners(){for(let e of this.listeners)e(this.loadingStatus)}};GoogleMapsApiLoader.loadingStatus=i.NOT_LOADED,GoogleMapsApiLoader.serializedApiParams=void 0,GoogleMapsApiLoader.listeners=[];let l=["onLoad","onError","apiKey","version","libraries"],s=["children"],u=r.createContext(null),APIProvider=e=>{let{children:t}=e,n=_objectWithoutPropertiesLoose(e,s),{mapInstances:o,addMapInstance:a,removeMapInstance:i,clearMapInstances:d}=function(){let[e,t]=(0,r.useState)({});return{mapInstances:e,addMapInstance:(e,n="default")=>{t(t=>_extends({},t,{[n]:e}))},removeMapInstance:(e="default")=>{t(t=>_objectWithoutPropertiesLoose(t,[e].map(_toPropertyKey)))},clearMapInstances:()=>{t({})}}}(),{status:c,loadedLibraries:p,importLibrary:f}=function(e){let{onLoad:t,onError:n,apiKey:o,version:a,libraries:i=[]}=e,s=_objectWithoutPropertiesLoose(e,l),[u,d]=(0,r.useState)(GoogleMapsApiLoader.loadingStatus),[c,p]=(0,r.useReducer)((e,t)=>e[t.name]?e:_extends({},e,{[t.name]:t.value}),{}),f=(0,r.useMemo)(()=>null==i?void 0:i.join(","),[i]),m=(0,r.useMemo)(()=>JSON.stringify(_extends({apiKey:o,version:a},s)),[o,a,s]),g=(0,r.useCallback)(async e=>{var t;if(c[e])return c[e];if(!(null!=(t=google)&&null!=(t=t.maps)&&t.importLibrary))throw Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let n=await window.google.maps.importLibrary(e);return p({name:e,value:n}),n},[c]);return(0,r.useEffect)(()=>{(async()=>{try{let e=_extends({key:o},s);for(let t of(a&&(e.v=a),(null==f?void 0:f.length)>0&&(e.libraries=f),(void 0===e.channel||e.channel<0||e.channel>999)&&delete e.channel,void 0===e.solutionChannel?e.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===e.solutionChannel&&delete e.solutionChannel,await GoogleMapsApiLoader.load(e,e=>d(e)),["core","maps",...i]))await g(t);t&&t()}catch(e){n?n(e):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",e)}})()},[o,f,m]),{status:u,loadedLibraries:c,importLibrary:g}}(n),m=(0,r.useMemo)(()=>({mapInstances:o,addMapInstance:a,removeMapInstance:i,clearMapInstances:d,status:c,loadedLibraries:p,importLibrary:f}),[o,a,i,d,c,p,f]);return r.createElement(u.Provider,{value:m},t)},d={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},c=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],p=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],f=Object.keys(d),m=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function useApiLoadingStatus(){var e;return(null==(e=(0,r.useContext)(u))?void 0:e.status)||i.NOT_LOADED}function toLatLngLiteral(e){return e&&"object"==typeof e&&"lat"in e&&"lng"in e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)?e:e.toJSON()}let AuthFailureMessage=()=>r.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},r.createElement("h2",null,"Error: AuthFailure"),r.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",r.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));function useApiIsLoaded(){let e=useApiLoadingStatus();return e===i.LOADED}let g=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],h=["padding"];let CachedMapStack=class CachedMapStack{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}};CachedMapStack.entries={};let b=r.createContext(null),Map=e=>{let{children:t,id:n,className:o,style:l}=e,s=(0,r.useContext)(u),v=useApiLoadingStatus();if(!s)throw Error("<Map> can only be used inside an <ApiProvider> component.");let[y,_,L]=function(e,t){let n=useApiIsLoaded(),[o,a]=(0,r.useState)(null),[i,l]=function(){let[e,t]=(0,r.useState)(null),n=(0,r.useCallback)(e=>t(e),[t]);return[e,n]}(),s=function(e){let t=function(){let[,e]=(0,r.useReducer)(e=>e+1,0);return e}(),n=(0,r.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return(0,r.useEffect)(()=>{if(!e)return;let r=google.maps.event.addListener(e,"bounds_changed",()=>{(function(e,t){let n=e.getCenter(),r=e.getZoom(),o=e.getHeading()||0,a=e.getTilt()||0,i=e.getBounds();n&&i&&Number.isFinite(r)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:o,tilt:a})})(e,n),t()});return()=>r.remove()},[e,t]),n}(o),{id:u,defaultBounds:d,defaultCenter:c,defaultZoom:p,defaultHeading:f,defaultTilt:m,reuseMaps:b,renderingType:v,colorScheme:y}=e,_=_objectWithoutPropertiesLoose(e,g),L=void 0!==e.zoom||void 0!==e.defaultZoom,E=void 0!==e.center||void 0!==e.defaultCenter;for(let e of(d||L&&E||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!_.center&&c&&(_.center=c),!_.zoom&&Number.isFinite(p)&&(_.zoom=p),!_.heading&&Number.isFinite(f)&&(_.heading=f),!_.tilt&&Number.isFinite(m)&&(_.tilt=m),Object.keys(_)))void 0===_[e]&&delete _[e];let C=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{let r,o;if(!i||!n)return;let{addMapInstance:l,removeMapInstance:c}=t,{mapId:p}=e,f=`${p||"default"}:${v||"default"}:${y||"LIGHT"}`;if(b&&CachedMapStack.has(f)?(r=(o=CachedMapStack.pop(f)).getDiv(),i.appendChild(r),o.setOptions(_),setTimeout(()=>o.setCenter(o.getCenter()),0)):((r=document.createElement("div")).style.height="100%",i.appendChild(r),o=new google.maps.Map(r,_extends({},_,v?{renderingType:v}:{},y?{colorScheme:y}:{}))),a(o),l(o,u),d){let{padding:e}=d,t=_objectWithoutPropertiesLoose(d,h);o.fitBounds(t,e)}else L&&E||o.fitBounds({east:180,west:-180,south:-90,north:90});if(C.current){let{mapId:e,cameraState:t}=C.current;e!==p&&o.setOptions(t)}return()=>{C.current={mapId:p,cameraState:s.current},r.remove(),b?CachedMapStack.push(f,o):google.maps.event.clearInstanceListeners(o),a(null),c(u)}},[i,n,u,e.mapId,e.renderingType,e.colorScheme]),[o,l,s]}(e,s);!function(e,t,n){let o=n.center?toLatLngLiteral(n.center):null,a=null,i=null;o&&Number.isFinite(o.lat)&&Number.isFinite(o.lng)&&(a=o.lat,i=o.lng);let l=Number.isFinite(n.zoom)?n.zoom:null,s=Number.isFinite(n.heading)?n.heading:null,u=Number.isFinite(n.tilt)?n.tilt:null;(0,r.useLayoutEffect)(()=>{if(!e)return;let n={},r=!1;null!==a&&null!==i&&(t.current.center.lat!==a||t.current.center.lng!==i)&&(n.center={lat:a,lng:i},r=!0),null!==l&&t.current.zoom!==l&&(n.zoom=l,r=!0),null!==s&&t.current.heading!==s&&(n.heading=s,r=!0),null!==u&&t.current.tilt!==u&&(n.tilt=u,r=!0),r&&e.moveCamera(n)})}(y,L,e),function(e,t){for(let n of f){let o=t[n],a=d[n];(0,r.useEffect)(()=>{if(!e||!o)return;let t=google.maps.event.addListener(e,a,t=>{o(function(e,t,n){let r={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(c.includes(e)){let e=t.getCenter(),n=t.getZoom(),o=t.getHeading()||0,a=t.getTilt()||0,i=t.getBounds();return e&&i&&Number.isFinite(n)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),r.detail={center:(null==e?void 0:e.toJSON())||{lat:0,lng:0},zoom:n||0,heading:o,tilt:a,bounds:(null==i?void 0:i.toJSON())||{north:90,east:180,south:-90,west:-180}},r}if(p.includes(e)){var o;if(!n)throw Error("[createEvent] mouse events must provide a srcEvent");return r.domEvent=n.domEvent,r.stoppable=!0,r.stop=()=>n.stop(),r.detail={latLng:(null==(o=n.latLng)?void 0:o.toJSON())||null,placeId:n.placeId},r}return r}(a,e,t))});return()=>t.remove()},[e,a,o])}}(y,e),function(e,t){var n;let o={},i=Object.keys(t);for(let e of i)m.has(e)&&(o[e]=t[e]);n=[o],(0,r.useEffect)(()=>{e&&e.setOptions(o)},[function(e,t){let n=(0,r.useRef)(e);return t(e,n.current)||(n.current=e),n.current}(n,a)])}(y,e);let E=function(e,t){let{viewport:n,viewState:o}=t;return(0,r.useLayoutEffect)(()=>{if(!e||!o)return;let{latitude:t,longitude:n,bearing:r,pitch:a,zoom:i}=o;e.moveCamera({center:{lat:t,lng:n},heading:r,tilt:a,zoom:i+1})},[e,o]),!!n}(y,e),C=!!e.controlled;(0,r.useEffect)(()=>{if(y)return E&&y.setOptions({disableDefaultUI:!0}),(E||C)&&y.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{y.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[y,E,C,e.gestureHandling,e.keyboardShortcuts]);let w=e.center?toLatLngLiteral(e.center):null,S=null,O=null;w&&Number.isFinite(w.lat)&&Number.isFinite(w.lng)&&(S=w.lat,O=w.lng);let M=(0,r.useMemo)(()=>{var t,n,r,o,a;return{center:{lat:null!=(t=S)?t:0,lng:null!=(n=O)?n:0},zoom:null!=(r=e.zoom)?r:0,heading:null!=(o=e.heading)?o:0,tilt:null!=(a=e.tilt)?a:0}},[S,O,e.zoom,e.heading,e.tilt]);(0,r.useLayoutEffect)(()=>{if(!y||!C)return;y.moveCamera(M);let e=y.addListener("bounds_changed",()=>{y.moveCamera(M)});return()=>e.remove()},[y,C,M]);let T=(0,r.useMemo)(()=>_extends({width:"100%",height:"100%",position:"relative",zIndex:E?-1:0},l),[l,E]),P=(0,r.useMemo)(()=>({map:y}),[y]);return v===i.AUTH_FAILURE?r.createElement("div",{style:_extends({position:"relative"},o?{}:T),className:o},r.createElement(AuthFailureMessage,null)):r.createElement("div",_extends({ref:_,"data-testid":"map",style:o?void 0:T,className:o},n?{id:n}:{}),y?r.createElement(b.Provider,{value:P},t):null)};Map.deckGLViewProps=!0;let v=new Set,useMap=(e=null)=>{let t=(0,r.useContext)(u),{map:n}=(0,r.useContext)(b)||{};if(null===t)return!function(...e){let t=JSON.stringify(e);v.has(t)||(v.add(t),console.error(...e))}("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:o}=t;return null!==e?o[e]||null:n||o.default||null};function useMapsEventListener(e,t,n){(0,r.useEffect)(()=>{if(!e||!t||!n)return;let r=google.maps.event.addListener(e,t,n);return()=>r.remove()},[e,t,n])}function usePropBinding(e,t,n){(0,r.useEffect)(()=>{e&&(e[t]=n)},[e,t,n])}function useDomEventListener(e,t,n){(0,r.useEffect)(()=>{if(e&&t&&n)return e.addEventListener(t,n),()=>e.removeEventListener(t,n)},[e,t,n])}function isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}let y=r.createContext(null),_={BOTTOM:["50%","100%"]},MarkerContent=({children:e,styles:t,className:n,anchorPoint:o})=>{let[a,i]=null!=o?o:_.BOTTOM,l=`-${a}`,s=`-${i}`;a.trimStart().startsWith("-")&&(l=a.substring(1)),i.trimStart().startsWith("-")&&(s=i.substring(1));let u=`translate(50%, 100%) translate(${l}, ${s})`;return r.createElement("div",{style:{transform:u}},r.createElement("div",{className:n,style:t},e))};(0,r.forwardRef)((e,t)=>{let{children:n,style:a,className:i,anchorPoint:l}=e,[s,d]=function(e){let[t,n]=(0,r.useState)(null),[o,a]=(0,r.useState)(null),i=useMap(),l=function(e){let t=useApiIsLoaded(),n=(0,r.useContext)(u);return(0,r.useEffect)(()=>{t&&n&&n.importLibrary(e)},[t,n,e]),(null==n?void 0:n.loadedLibraries[e])||null}("marker"),{children:s,onClick:d,className:c,onMouseEnter:p,onMouseLeave:f,onDrag:m,onDragStart:g,onDragEnd:h,collisionBehavior:b,clickable:v,draggable:y,position:_,title:L,zIndex:E}=e,C=r.Children.count(s);return(0,r.useEffect)(()=>{if(!i||!l)return;let e=new l.AdvancedMarkerElement;e.map=i,n(e);let t=null;return C>0&&((t=document.createElement("div")).isCustomMarker=!0,e.content=t,a(t)),()=>{var r;e.map=null,null==(r=t)||r.remove(),n(null),a(null)}},[i,l,C]),(0,r.useEffect)(()=>{null!=t&&t.content&&isElementNode(t.content)&&!(C>0)&&(t.content.className=null!=c?c:"")},[t,c,C]),usePropBinding(t,"position",_),usePropBinding(t,"title",null!=L?L:""),usePropBinding(t,"zIndex",E),usePropBinding(t,"collisionBehavior",b),(0,r.useEffect)(()=>{t&&(void 0!==y?t.gmpDraggable=y:m||g||h?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,y,m,h,g]),(0,r.useEffect)(()=>{if(!t)return;let e=void 0!==v||!!d||!!p||!!f;t.gmpClickable=e,e&&null!=t&&t.content&&isElementNode(t.content)&&(t.content.style.pointerEvents="none",t.content.firstElementChild&&(t.content.firstElementChild.style.pointerEvents="all"))},[t,v,d,p,f]),useMapsEventListener(t,"click",d),useMapsEventListener(t,"drag",m),useMapsEventListener(t,"dragstart",g),useMapsEventListener(t,"dragend",h),useDomEventListener(null==t?void 0:t.element,"mouseenter",p),useDomEventListener(null==t?void 0:t.element,"mouseleave",f),[t,o]}(e),c=(0,r.useMemo)(()=>s?{marker:s}:null,[s]);return((0,r.useImperativeHandle)(t,()=>s,[s]),d)?r.createElement(y.Provider,{value:c},(0,o.createPortal)(r.createElement(MarkerContent,{anchorPoint:l,styles:a,className:i},n),d)):null});let L=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];(0,r.forwardRef)((e,t)=>{let n=function(e){let[t,n]=(0,r.useState)(null),o=useMap(),{onClick:a,onDrag:i,onDragStart:l,onDragEnd:s,onMouseOver:u,onMouseOut:d}=e,c=_objectWithoutPropertiesLoose(e,L),{position:p,draggable:f}=c;return(0,r.useEffect)(()=>{if(!o){void 0===o&&console.error("<Marker> has to be inside a Map component.");return}let e=new google.maps.Marker(c);return e.setMap(o),n(e),()=>{e.setMap(null),n(null)}},[o]),(0,r.useEffect)(()=>{if(!t)return;let e=google.maps.event;return a&&e.addListener(t,"click",a),i&&e.addListener(t,"drag",i),l&&e.addListener(t,"dragstart",l),s&&e.addListener(t,"dragend",s),u&&e.addListener(t,"mouseover",u),d&&e.addListener(t,"mouseout",d),t.setDraggable(!!f),()=>{e.clearInstanceListeners(t)}},[t,f,a,i,l,s,u,d]),(0,r.useEffect)(()=>{t&&c&&t.setOptions(c)},[t,c]),(0,r.useEffect)(()=>{!f&&p&&t&&t.setPosition(p)},[f,p,t]),t}(e);return(0,r.useImperativeHandle)(t,()=>n,[n]),r.createElement(r.Fragment,null)})}}]);